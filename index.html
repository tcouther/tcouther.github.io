<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- LinkyBucket APP PROTOTYPE : 2023 -->
        <title>LinkyBucket Beta0.01</title>
        <meta charset="utf-8">

        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="style.css" />
        
        <!-- ios support: icons -->
        <link rel="apple-touch-icon" href="images/icons/icon-72x72.png" />
        <link rel="apple-touch-icon" href="images/icons/icon-96x96.png" />
        <link rel="apple-touch-icon" href="images/icons/icon-128x128.png" />
        <link rel="apple-touch-icon" href="images/icons/icon-144x144.png" />
        <link rel="apple-touch-icon" href="images/icons/icon-152x152.png" />
        <link rel="apple-touch-icon" href="images/icons/icon-192x192.png" />
        <link rel="apple-touch-icon" href="images/icons/icon-384x384.png" />
        <link rel="apple-touch-icon" href="images/icons/icon-512x512.png" />
        
        <!-- ios support: top and bottom bar colors --->
        <meta name="apple-mobile-web-app-status-bar" content="#111111" />
        <meta name="theme-color" content="#111111" />

        <!-- ios support: full screen mode -->
        <meta name="apple-mobile-web-app-capable" content="yes"/>
        <meta name="mobile-web-app-capable" content="yes"/>
        
        <!-- PWA -->
        <link rel="manifest" href="manifest.json" />


        <!-- APP CONFIG -->
        <script>
            //define APP_GLOBALS to manage app state
            const APP_GLOBALS = {};

            /**
             * APP_GLOBALS_CONFIG
             * This global variable is essentially default page state
             * Config : Add defaults here
             */
             const APP_GLOBALS_CONFIG = {
                linkList: {},
                linkListByType: {},
                agreement: 'no',
                storName: 'linkybucketAppBeta001',
                userName: 'LinkyBucket beta0.01',
                userImage: 'images/profile.png',
                linkTypes: {
                    'uncategorized':{'label':'Links','color':'#ffffff','icon':'gg-link'},
                    'news':{'label':'News Articles','color':'#ffffff','icon':'gg-ereader'},
                    'payment':{'label':'Payments','color':'#ffffff','icon':'gg-dollar'},
                    'referral':{'label':'Referral codes','color':'#ffffff','icon':'gg-list-tree'},
                    'social-media':{'label':'Social media','color':'#ffffff','icon':'gg-comment'},
                    'shopping':{'label':'Shopping','color':'#ffffff','icon':'gg-shopping-cart'}
                },
                linkTypes2: {
                    'uncategorized':{'label':'Links','color':'#efadce'},
                    'news':{'label':'News Articles','color':'#ffdd9c'},
                    'payment':{'label':'Payments','color':'#d1e7dd'},
                    'referral':{'label':'Referral codes','color':'#cff4fc'},
                    'social-media':{'label':'Social media','color':'#9aa2d8'},
                    'shopping':{'label':'Shopping','color':'#b29ad8'}
                }
            };
        </script>
    </head>
    <body>
        <main>


            <!-- Links Page -->
            <div id="page-links-list">

                    <!-- User Profile -->
                    <section class="container" id="user-profile-section">
                        <div class="row align-items-center">
                            <div class="col-sm-12 text-center">

                                <div id="profile-photo-container" class="profile-photo-container">
                                    <img class="photo-img mt-3" src="" alt="logo" id="user-preferences-button" data-bs-toggle="modal" data-bs-target="#listModalPreferences" />
                                </div>
                                
                                <h1 class="mt-1">
                                    <label id="user-name-label" for="user-name" class=""></label>
                                </h1>

                                <div class="my-4">
                                    <div class="text-center fs-6">
                                        <p>
                                            LinkyBucket is the quick and easy way to capture QR codes to store and share! 
                                            <span id="instructions">Share payment links, referral codes, and more!</span>
                                        </p>
                                    </div>
                                </div>
                                
                            </div>
                        </div>
                    </section>

                    <!-- Link List -->
                    <section class="container my-2" id="user-link-list-section">
                        <div class="row align-items-center">
                            <div class="col-sm-12">
                                <div class="accordion" id="accordionLinkLists"></div>
                            </div>
                        </div>
                    </section>
            </div>






            <!-- Link Details Page -->
            <div id="page-link-details" class="d-none">
                
                    
                    <section class="container mb-3 text-center" id="">

                                <h1 class="detail-headline m-4">
                                    
                                </h1>
                                <div class="m-4">
                                    <img class="detail-img" src="" />
                                </div>
                                <div class="mt-3">
                                    <a class="detail-link fs-4 text-decoration-none" href="" target="_blank" rel="noopener noreferrer"></a>
                                </div>
                                <div class="detail-name fs-2"></div>
                                <div class="pt-5 share-controls d-flex justify-content-center">
                                    <button 
                                    type="button"
                                    class="btn btn-outline-dark detail-print m-2">
                                        Print <i class="gg-printer"></i>
                                    </button>

                                    <button 
                                    type="button"
                                    class="btn btn-outline-dark detail-share m-2">
                                        Share <i class="gg-share align-middle"></i>
                                    </button>

                                    <button 
                                    type="button"
                                    class="btn btn-outline-dark detail-close-button m-2">
                                        Close <i class="gg-close-o align-middle"></i>
                                    </button>
                                </div>
                    </section>

            </div>
            

            <!-- Modal Preferences -->
            <div class="modal fade" id="listModalPreferences" tabindex="-1" aria-labelledby="listModalPreferencesLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="listModalPreferencesLabel">Preferences</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <p>
                                Update and manage your user profile preferences to customize your user experience.
                            </p>
                            <ul class="mt-3 list-group">
                                <li 
                                class="list-group-item d-flex justify-content-between cursor-pointer" 
                                data-bs-toggle="modal" 
                                data-bs-target="#formModalPhoto">
                                    <label>Edit profile photo</label>
                                </li>
                                <li 
                                class="list-group-item d-flex justify-content-between cursor-pointer" 
                                data-bs-toggle="modal" 
                                data-bs-target="#formUserNameModal">
                                    <label>Edit profile name</label>
                                </li>
                                <li 
                                class="list-group-item d-flex justify-content-between cursor-pointer" 
                                data-bs-toggle="modal" 
                                data-bs-target="#formDeleteAllModal">
                                    <label>Delete all data</label>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal Form Delete All -->
            <div class="modal fade" id="formDeleteAllModal" tabindex="-1" aria-labelledby="formDeleteAllModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="formDeleteAllModalLabel">Warning: Delete All</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <p>
                                Are you sure you want to delete all personal user data from this app and revert back to the default state?
                                Because your information is not stored online, this action is permanent and there's no way to recover your data. 
                            </p>
                            <p>
                                After you click "Delete All Data", all data is deleted, your links and user profile data will be removed.
                            </p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-danger w-100" id="delete-all-data">Delete all data</button>
                            <button type="button" class="btn btn-secondary modal-close-button w-100" data-bs-dismiss="modal">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal Form Username -->
            <div class="modal fade" id="formUserNameModal" tabindex="-1" aria-labelledby="formeUserNameModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <form class="modal-content" id="user-name-form">
                        <div class="modal-header">
                            <h5 class="modal-title" id="formUserNameModalLabel">Update Profile Name</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <input id="user-name-input" class="form-control" type="text" value="" />
                        </div>
                        <div class="modal-footer">
                            <button type="submit" class="btn btn-primary w-100" id="user-name-submit">Update</button>
                            <button type="button" class="btn btn-secondary modal-close-button w-100" data-bs-dismiss="modal">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Modal Form Link -->
            <div class="modal fade" id="formModal" tabindex="-1" aria-labelledby="formeModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="formModalLabel">Add Link</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <form>
                                <input type="hidden" name="id" id="form-link-id" value="" />

                                
                                    
                                    <div class="input-group mb-3">
                                        <input type="text" id="form-link-link" class="form-control" placeholder="Link" aria-label="Recipient's username" aria-describedby="button-addon2">
                                        <button id="form-link-paste-button" class="btn btn-outline-secondary" type="button" id="button-addon2">Paste</button>

                                    </div>

                                    <button id="form-autofill-button" type="button" class="btn btn-secondary w-100" disabled="disabled">Autofill form</button>
                                    <hr class="my-4"/>
                                   
                                    <label for="form-link-description" class="form-label">Link text description</label>
                                    <input type="text" class="form-control mb-3" id="form-link-description" placeholder="Description" />
                                    
                                    <label for="form-link-title" class="form-label">Title or Headline</label>
                                    <input type="text" class="form-control mb-3" id="form-link-title" placeholder="Title" />
                                    
                                    <label for="form-link-type" class="form-label">Type of link</label>
                                    <select 
                                    class="form-select mb-3" id="form-link-type">
                                        <option selected>Select a Type</option>
                                    </select>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <div class="flex-fill">
                                <button id="form-link-submit" type="button" class="btn btn-primary w-100" onclick="handleAddButton()">Add</button>
                            </div>
                            <div class="flex-fill">
                                <button type="button" class="btn btn-secondary modal-close-button w-100" data-bs-dismiss="modal">Cancel</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal Form Photo -->
            <div class="modal fade" id="formModalPhoto" tabindex="-1" aria-labelledby="formePhotoModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="formPhotoModalLabel">Update Profile Photo</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <p><input class="form-control" type="file" id="filepicker"></p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-primary w-100" id="filepickerbtn">Update</button>
                            <button type="button" class="btn btn-secondary modal-close-button w-100" data-bs-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>


            <!-- Modal PWA Install -->
            <div class="modal fade modal-fullscreen" id="pwaModal" tabindex="-1" aria-labelledby="pwaModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-body">
                            <div class="p-5 text-center">
                                
                                <h3 class="modal-title" id="pwaModalLabel">
                                    <i class="gg-smartphone m-auto"></i><br>
                                    Add to Home Screen</h3>
                                <p>To install the app, you need to add this website to your Home screen.</p>
                                <p>In your Safari browser menu, tap the Share icon and choose <b>Add to Home Screen</b> in the options. Then open the LinkyBucket app on your home screen.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            

            <!-- Modal Form Agreement -->
            <div class="modal fade modal-fullscreen-xxl-down" id="formModalAgreement" tabindex="-1" aria-labelledby="formeAgreementModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="formPhotoAgreementLabel">User agreement</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div>
                            <p>
                                PLEASE READ THESE TERMS AND CONDITIONS CAREFULLY. BY ACCESSING THIS APP YOU AGREE TO BE BOUND BY THE TERMS AND CONDITIONS BELOW. 
                                THESE TERMS AND CONDITIONS ARE SUBJECT TO CHANGE. ANY CHANGES WILL BE INCORPORATED INTO THE TERMS AND CONDITIONS POSTED TO THIS APP FROM TIME TO TIME. 
                                IF YOU DO NOT AGREE WITH THESE TERMS AND CONDITIONS, PLEASE DO NOT ACCESS THIS APP.
                            </p>
                            <p>
                                UNDER NO CIRCUMSTANCES WILL LinkyBucket BE LIABLE FOR ANY LOST PROFITS, LOST OPPORTUNITY OR ANY INDIRECT, CONSEQUENTIAL, INCIDENTAL, SPECIAL, PUNITIVE, 
                                OR EXEMPLARY DAMAGES ARISING OUT OF ANY USE OF OR INABILITY TO USE THIS APPLICATION OR ANY PORTION THEREOF, REGARDLESS OF WHETHER LINKSACK HAS BEEN APPRISED OF 
                                THE LIKELIHOOD OF SUCH DAMAGES OCCURRING AND REGARDLESS OF THE FORM OF ACTION, WHETHER IN CONTRACT, WARRANTY, TORT, (INCLUDING NEGLIGENCE), STRICT LIABILITY, OR OTHERWISE.
                            </p>
                            <p>Copyright &copy; 2023. LinkyBucket</p>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button id="agreement-button" type="button" class="btn btn-secondary modal-close-button w-100" data-bs-dismiss="modal">I Agree</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal Detail Button -->
            <button id="detail-modal-button" type="button" class="d-none" data-bs-toggle="modal" data-bs-target="#detailModal" aria-hidden>
                open detail modal
            </button>

            <!-- QR Code : QR code images are created here before they are saved in APP_GLOBALS -->
            <div id="qrcode-hidden-container" class="d-none"></div>

        </main>

        <div id="lock" style="top:0px; position:fixed; width:100vw; height:100vh; background-color:#111; opacity:0.1;"></div>

        <script src="app.js"></script>
    </body>
</html>
